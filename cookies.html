<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta http-equiv="Cache-Control" content="max-age=3600, must-revalidate">
        <meta http-equiv="Pragma" content="no-cache">
        <meta http-equiv="Expires" content="-1">

        <title>Cookies | Balazs&#39;s BLOG</title>
        <meta name="title" content="Cookies | Balazs&#39;s BLOG">
        <meta name="description" content="Helping agencies &amp; SMEs to land easy to maintain projects and (remote) teams">
        <meta name="keywords" content="digitalization,business,management,agile,software,softwareengineering,softwarearchitecture,programming">
        <meta name="author" content="">
        <meta name="robots" content="index, follow">

        <link rel="canonical" href="https://hidegh.github.io/cookies.html">
        <link rel="shortcut icon" type="image/png" href="/assets/img/favicon.png">
        
        <link rel="stylesheet" href="/assets/css/main.css" />

        <link rel="preconnect" href="cdnjs.cloudflare.com">
        <link rel="dns-prefetch" href="cdnjs.cloudflare.com">

        <link rel="preconnect" href="cdn.jsdelivr.net">
        <link rel="dns-prefetch" href="cdn.jsdelivr.net">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==" crossorigin="anonymous" />

        <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.0-beta2/js/bootstrap.bundle.min.js" integrity="sha512-43iShtbiyImxjjU4a9rhXBy7eKtIsrpll8xKhe1ghKqh5NyfME8phZs5JRFZpRBe1si44WM3tNmnqMym7JRmDQ==" crossorigin="anonymous"></script>

        <script src="https://cdn.jsdelivr.net/npm/ejs@3.1.6/ejs.min.js" integrity="sha256-mOsgtygNfXBUPc/+cc19yr+g0jieqYOgRL5xFD2sC0Y=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js" integrity="sha512-4xUl/d6D6THrAnXAwGajXkoWaeMNwEKK4iNfq5DotEbLPAfk6FSxSP3ydNxqDgCw1c/0Z1Jg6L8h2j+++9BZmg==" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/he/1.2.0/he.min.js" integrity="sha512-PEsccDx9jqX6Dh4wZDCnWMaIO3gAaU0j46W//sSqQhUQxky6/eHZyeB3NrXD2xsyugAKd4KPiDANkcuoEa2JuA==" crossorigin="anonymous"></script>

        <script src="/assets/js/clipboard-copy.js"></script>
        
        <script src="https://cdn.jsdelivr.net/npm/@codersrank/summary@0.9.11/codersrank-summary.min.js" integrity="sha256-Z9affdapY+YHkNg/94RW+PQsB8AEvfTzX33ip4Yof/o=" crossorigin="anonymous"></script>

        <!-- fancy UI stuff -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.slim.min.js" integrity="sha512-6ORWJX/LrnSjBzwefdNUyLCMTIsGoNP6NftMy2UAm1JBm6PRZCO1d7OHBStWpVFZLO+RerTvqX/Z9mBFfCJZ4A==" crossorigin="anonymous"></script>

        <script src="/assets/js/jquery.stellar.min.js"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery-js/1.4.0/js/lightgallery.min.js" integrity="sha512-b4rL1m5b76KrUhDkj2Vf14Y0l1NtbiNXwV+SzOzLGv6Tz1roJHa70yr8RmTUswrauu2Wgb/xBJPR8v80pQYKtQ==" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery-js/1.4.0/css/lightgallery.min.css" integrity="sha512-kwJUhJJaTDzGp6VTPBbMQWBFUof6+pv0SM3s8fo+E6XnPmVmtfwENK0vHYup3tsYnqHgRDoBDTJWoq7rnQw2+g==" crossorigin="anonymous" />        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js" integrity="sha512-CEiA+78TpP9KAIPzqBvxUv8hy41jyI3f2uHi7DGp/Y/Ka973qgSdybNegWFciqh6GrN2UePx2KkflnQUbUhNIA==" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0.0/jquery.counterup.min.js" integrity="sha512-d8F1J2kyiRowBB/8/pAWsqUl0wSEOkG5KATkVV4slfblq9VRQ6MyDZVxWl2tWd+mPhuCbpTB4M7uU/x9FlgQ9Q==" crossorigin="anonymous"></script>

        <script src="/assets/js/simple-dom-filter.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/filterizr/2.2.4/vanilla.filterizr.min.js" integrity="sha512-MMprw2AB5GAiQmXXEz5JYiGq2waU0iqD7Whj33m1w0V6Zzt1wyTFnr6rxWW8mfdQ/VksbUkU5c8sVGlO+3stew==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Shuffle/5.3.0/shuffle.min.js" integrity="sha512-Z2o9xls9hRQjtzU0G8qTxaj9cyVgqw/b2ocZ3X9LbF/OiXnbyR7E/d5+Yl8mSeulNW77w9vXq5hhUHarzacKKw==" crossorigin="anonymous"></script>


        <script src="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.3/tiny-slider.min.js" integrity="sha512-eFH1e5TOppR2v/FrKk5FT/W9IHX25gKlrlTjIAuuG3pdDTMi3s8nR5PftWQ31fMpaF7P6NmlQXJjBwORWMLRLQ==" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.3/tiny-slider.min.css" integrity="sha512-06CZo7raVnbbD3BlY8/hGUoUCuhk8sTdVGV3m3nuh9i2R+UmkLbLRTE/My8TuJ3ALbDulhBObJQWtOUt0mXzNQ==" crossorigin="anonymous" />

        <script src="https://cdnjs.cloudflare.com/ajax/libs/timecircles/1.5.3/TimeCircles.min.js" integrity="sha512-FofOhk0jW4BYQ6CFM9iJutqL2qLk6hjZ9YrS2/OnkqkD5V4HFnhTNIFSAhzP3x//AD5OzVMO8dayImv06fq0jA==" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/timecircles/1.5.3/TimeCircles.min.css" integrity="sha512-lZ3AwSh5B+1EgCuXvjkdhFX8xU4dMDO8SPqAn71VFY4luNN8gwKpajLxaZRMSeNMghUghfodtkZAWO2rM7H6Qw==" crossorigin="anonymous" />

        <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js" integrity="sha512-A7AYk1fGKX6S2SsHywmPkrnzTZHrgiVT7GcQkLGDe2ev0aWb8zejytzS8wjo7PGEXKqJOrjQ4oORtnimIRZBtw==" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" integrity="sha512-1cK78a1o+ht2JcaW6g8OXYwqpev9+6GqOkz9xmBN9iUUhIndKtxwILGWYOSibOKjLsEdjyjZvYDq/cZwNeak0w==" crossorigin="anonymous" />

        <script src="https://cdn.jsdelivr.net/npm/menuspy@1.3.0/dist/menuspy.min.js" integrity="sha256-nLsUsNbD5SyESe6GrfVY1ay1ThxDUl5FZPqwhFRCzxA=" crossorigin="anonymous"></script>
        
    </head>
    <body>

        <header class="sticky-top">
            <nav class="navbar navbar-expand-lg">

    <div class="container">

        <a class="navbar-brand align-middle" href="#">
            <img src="/assets/img/reflection.png" />
        </a>

        <div class="ms-auto mx-2"></div>

        <a type="button" role="button" class="btn border-0 me-2 d-lg-none"
            data-bs-toggle="collapse" data-bs-target="#blog-search-bar">
            <!-- d-sm-none = hide if above sm -->
            <i class="fas fa-search"></i>
        </a>

        <button type="button" class="btn navbar-toggler"
            data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
            aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <!-- Using navbar-toggler fix in main.scss and FA icons instead of: <span class="navbar-toggler-icon"></span> -->
            <i class="fas fa-bars"></i>
        </button>

        <div class="collapse navbar-collapse" id="navbarNavDropdown">

            <ul class="navbar-nav flex-row flex-wrap bd-navbar-nav pt-2 py-sm-0">

                <li class="nav-item col-6 col-lg-auto">
                    <a class="nav-link p-2" href="/">Home</a>
                </li>

                <li class="nav-item col-6 col-lg-auto">
                    <a class="nav-link p-2" href="/projects">Projects</a>
                </li>

                <li class="nav-item col-6 col-lg-auto">
                    <a class="nav-link p-2" href="/clients">Clients</a>
                </li>

                <li class="nav-item col-6 col-lg-auto">
                    <!-- NOTE: d-table on the group and nav-link d-inline for the inner <a> tags is a must for split button to work properly when collapsed/expanded -->
                    <div class="btn-group d-table nav-link p-2">
                        <a class="nav-link d-inline" href="/posts/1/">Blog posts</a>
                        <a class="nav-link d-inline" role="button" data-bs-toggle="dropdown">
                            <i class="far fa-caret-square-down"></i>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="/categories">Categories</a></li>
                            <li><a class="dropdown-item" href="/tags">Tags</a></li>
                            <li><a class="dropdown-item" href="/series">Series</a></li>
                            <!-- <li><hr class="dropdown-divider"></li> -->
                        </ul>
                    </div>
                </li>

            </ul>

            <hr class="d-lg-none text-light">

            <ul class="navbar-nav flex-row flex-wrap ms-lg-auto">
                
                <li class="nav-item col-6 col-lg-auto">
                    <a class="nav-link p-2" href="https://www.linkedin.com/in/hideghety" target="_blank"
                        rel="noopener">
                        <i class="fab fa-fw fa-linkedin"></i>
                        <small class="d-lg-none ms-2">LinkedIn</small>
                    </a>
                </li>
                
                <li class="nav-item col-6 col-lg-auto">
                    <a class="nav-link p-2" href="https://github.com/hidegh" target="_blank"
                        rel="noopener">
                        <i class="fab fa-fw fa-github"></i>
                        <small class="d-lg-none ms-2">GitHub</small>
                    </a>
                </li>
                
                <li class="nav-item col-6 col-lg-auto">
                    <a class="nav-link p-2" href="https://twitter.com/balazsHIDEGHETY" target="_blank"
                        rel="noopener">
                        <i class="fab fa-fw fa-twitter"></i>
                        <small class="d-lg-none ms-2">Twitter</small>
                    </a>
                </li>
                
            </ul>

        </div>

        <!-- inline search-bar with same expand breakpoint as navigation -->
        <nav class="nav-search d-none d-lg-inline">
            <!-- hidden by def., visible (block) aft. size SM -->
            <div class="inline-input-group inline-text-right">
                <span class="inline-text"><i class="fas fa-search"></i></span>
                <input type="text" class="blog-search-input form-control py-0" placeholder="Search...">
            </div>
        </nav>

    </div>

</nav>

<!-- standalone search bar (below navigation) with same breakpoint as navigation (shown on collapse) -->
<nav class="nav-search-below d-lg-none collapse p-3" id="blog-search-bar">

    <div class="container">

        <!-- d-sm-none = hide if above sm -->
        <div class="inline-input-group inline-text-left">
            <span class="inline-text"><i class="fas fa-search"></i></span>
            <input type="text" class="blog-search-input form-control" placeholder="Search...">
        </div>

    </div>

</nav>
        </header>

        <main>
            
            

    

    <div class="container">

        <div id="global-content-view" class="row pt-3">

            <div class="col-12 col-xl-9 p-0 overflow-hidden">
                

    <section class="print-container p-3 mb-3">
        <h1 id="cookie-policy-for-this-site">Cookie Policy for this Site</h1>
<h2 id="what-are-cookies">What Are Cookies</h2>
<p>As is common practice with almost all professional websites this site uses cookies, which are tiny files that are downloaded to your computer, to improve your experience. This page describes what information they gather, how we use it and why we sometimes need to store these cookies. We will also share how you can prevent these cookies from being stored however this may downgrade or ‘break’ certain elements of the sites functionality.</p>
<p>For more general information on cookies, please read <a href="https://www.cookieconsent.com/what-are-cookies/">“What Are Cookies”</a>. Information regarding cookies from this Cookies Policy are from <a href="https://www.generateprivacypolicy.com/">the Privacy Policy Generator</a>.</p>
<h2 id="how-we-use-cookies">How We Use Cookies</h2>
<p>We use cookies for a variety of reasons detailed below. Unfortunately in most cases there are no industry standard options for disabling cookies without completely disabling the functionality and features they add to this site. It is recommended that you leave on all cookies if you are not sure whether you need them or not in case they are used to provide a service that you use.</p>
<h2 id="disabling-cookies">Disabling Cookies</h2>
<p>You can prevent the setting of cookies by adjusting the settings on your browser (see your browser Help for how to do this). Be aware that disabling cookies will affect the functionality of this and many other websites that you visit. Disabling cookies will usually result in also disabling certain functionality and features of the this site. Therefore it is recommended that you do not disable cookies. This Cookies Policy was created with the help of the <a href="https://www.cookiepolicygenerator.com/cookie-policy-generator/">Cookies Policy Generator from CookiePolicyGenerator.com</a>.</p>
<h2 id="the-cookies-we-set">The Cookies We Set</h2>
<ul>
<li>
<p>Site preferences cookies</p>
<p>In order to provide you with a great experience on this site we provide the functionality to set your preferences for how this site runs when you use it. In order to remember your preferences we need to set cookies so that this information can be called whenever you interact with a page is affected by your preferences.</p>
</li>
</ul>
<h2 id="third-party-cookies">Third Party Cookies</h2>
<p>In some special cases we also use cookies provided by trusted third parties. The following section details which third party cookies you might encounter through this site.</p>
<ul>
<li>
<p>This site uses <strong>Google Analytics</strong> which is one of the most widespread and trusted analytics solution on the web for helping us to understand how you use the site and ways that we can improve your experience. These cookies may track things such as how long you spend on the site and the pages that you visit so we can continue to produce engaging content.</p>
<p>Additional notes to Google Analytics usage:</p>
<ul>
<li>We never use any user-related ID for tracking</li>
<li>We don’t share data collected by GA with 3rd parties</li>
<li>We don’t use your IP to track location - unless consent is given</li>
</ul>
<p>For more information on Google Analytics cookies, see the official Google Analytics page.</p>
</li>
<li>
<p>This site also uses <strong><a href="https://blog.disqus.com/">Disqus</a></strong> to enable post commenting. The function is available only after consent is given. Data (comments) are stored on the platform (no data is stored by our site), where logged in users have full control over it.</p>
<p>More info on Disqus privacy and GDPR compliance can be found: <a href="https://blog.disqus.com/update-on-privacy-and-gdpr-compliance">here</a></p>
</li>
</ul>
<h2 id="more-information">More Information</h2>
<p>Hopefully that has clarified things for you and as was previously mentioned if there is something that you aren’t sure whether you need or not it’s usually safer to leave cookies enabled in case it does interact with one of the features you use on our site.</p>
<p>However if you are still looking for more information then you can contact us through one of our preferred contact methods:</p>
<ul>
<li>By visiting this link: <a href="/tabs/about">Contact Us</a></li>
</ul>

    </section>
    

            </div>

            <aside class="sticky-container d-none d-xl-block small col-xl-3 p-0">
                

    <section class="p-3 mb-3">
        <div class="profile text-center">

    <div class="avatar">
        <a href="/" alt="avatar" class="mx-auto">
            <img src="/assets/img/me.jpg" alt="avatar">
        </a>
    </div>

    <div class="title mt-3">
        <a href="/">Balazs&#39;s BLOG</a>
    </div>

    <div class="sub-title">Helping agencies &amp; SMEs to land easy to maintain projects and (remote) teams</div>

</div>
    </section>

    <section class="p-3 mb-3">
        <codersrank-summary
    username="hidegh"
    layout="vertical"
    badges="3"
    show-avatar="false"
    show-header="true"
    branding="true"
    style="
    --bg-color: var(--bs-dark);
    --border: none;
    --border-radius: .1em;
    --header-padding: .4em;
    --header-bg-color: var(--bs-light);
    --header-text-color: var(--bs-dark);
    --avatar-size: 4em;
    --name-font-size: inherit;
    --name-font-weight: bold;
    --rank-font-size: inherit;
    --preloader-color:var(--bs-primary);
    --badges-padding: .4em;
    --badge-border-radius: .1em;
    --badge-bg-color: var(--bs-dark);
    --badge-box-shadow: inherit;
    --badge-border: none;
    --badge-margin: .4em;
    --badge-padding: .2em;
    --badge-text-color: var(--bs-primary);
    --badge-rank-font-size: 1em;
    --badge-rank-font-weight: bold;
    --badge-icon-size: 1.4em;
    --badge-technology-font-weight: 600;
    --badge-technology-font-size: 1em;
    --badge-location-font-size: .8em;
    --badge-location-font-weight: normal;
    --branding-text-color: inherit;
    ">
</codersrank-summary>

    </section>

    <section class="sticky p-3 mb-3">
        
<div class="heading">
    <h2 class="d-inline">Recent posts</h2>
    <a class="sticky-link btn btn-sm btn-outline-primary float-end"><i class="fas fa-link"></i></a>
</div>

        
<ul class="recent-posts">
    
    <li>
        <a href="/post/ddd-series-10-forbidden-location/">
            <span>DDD Series - 10 - Forbidden location</span>
        </a>
    </li>
    
    <li>
        <a href="/post/ddd-series-9-summary/">
            <span>DDD Series - 9 - Summary</span>
        </a>
    </li>
    
    <li>
        <a href="/post/ddd-series-8-bounded-context-at-help-to-tackle-complexity/">
            <span>DDD Series - 8 - Bounded context at help to tackle complexity</span>
        </a>
    </li>
    
    <li>
        <a href="/post/ddd-series-7-testing-is-easy-with-ddd/">
            <span>DDD Series - 7 - Testing is easy with DDD</span>
        </a>
    </li>
    
    <li>
        <a href="/post/ddd-series-6-the-lazy-way-towards-ddd-(using-orm)/">
            <span>DDD Series - 6 - The lazy way towards DDD (using ORM)</span>
        </a>
    </li>
    
</ul>


    </section>
    
    <section class="sticky p-3 mb-3 d-hide-if-empty">
        
<div class="heading">
    <h2 class="d-inline">Tag cloud</h2>
    <a class="sticky-link btn btn-sm btn-outline-primary float-end"><i class="fas fa-link"></i></a>
</div>

         
    <span style="font-size: 0.8em;">
        <a href="/tag/clean-code/1/">clean-code</a>
    </span>
 
    <span style="font-size: 1.3333333333333335em;">
        <a href="/tag/ddd/1/">ddd</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/favicon/1/">favicon</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/getting-started/1/">getting started</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/google-analytics/1/">google analytics</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/hr/1/">HR</a>
    </span>
 
    <span style="font-size: 1.3333333333333335em;">
        <a href="/tag/intro/1/">intro</a>
    </span>
 
    <span style="font-size: 1em;">
        <a href="/tag/management/1/">management</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/mytag/1/">myTag</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/outer-middle-inner/1/">outer - middle - inner</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/pageviews/1/">pageviews</a>
    </span>
 
    <span style="font-size: 1.8em;">
        <a href="/tag/posts/1/">posts</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/posts-technical-management-estimation-recap-this-is-a-single-big-tag-name!/1/">posts, technical, management, estimation, recap - this is a single big tag name!</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/programming/1/">programming</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/recap/1/">recap</a>
    </span>
 
    <span style="font-size: 1.3333333333333335em;">
        <a href="/tag/series/1/">series</a>
    </span>
 
    <span style="font-size: 1.6666666666666667em;">
        <a href="/tag/technical/1/">technical</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/typography/1/">typography</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/writing/1/">writing</a>
    </span>


    </section>


            </aside>

        </div>

        <div id="search-results-container" class="row pt-3 d-none">
            <div class="search-results col-12">
            </div>
        </div>

    </div>

    


        </main>

        
        

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css" integrity="sha512-LQ97camar/lOliT/MqjcQs5kWgy6Qz/cCRzzRzUCfv0fotsCTC9ZHXaPQmJV8Xu/PVALfJZ7BDezl5lW3/qBxg==" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js" integrity="sha512-yXXqOFjdjHNH1GND+1EO0jbvvebABpzGKD66djnUfiKlYME5HGMUJHoCaeE4D5PTG2YsSJf6dwqyUUvQvS0vaA==" crossorigin="anonymous"></script>

<script>
    const scripts_config = {

        defaultCookies: function () {
            console.log('default cookies');

            // note: using anonymized IP
            if (typeof loadGA === 'function') loadGA(true);
        },

        enableCookies: function () {
            console.log('enabled cookies');

            if (typeof loadGA === 'function') loadGA(false);
            if (typeof loadDisqus === 'function') loadDisqus();
        },

        disableCookies: function () {
            console.log('disabled cookies');

            this.defaultCookies();
        },

        loadScripts: function (requireConsent, consentUrl) {
            if (requireConsent) {
                // scripts managed based on consent status
                this.initializeCookieConsent(consentUrl);
            } else {
                // all scripts enabled
                this.enableCookies();
            }
        },

        initializeCookieConsent: function (consentUrl) {

            const me = this;

            window.cookieconsent.initialise({
                "palette": {
                    "popup": {
                        "background": "#edeff5",
                        "text": "#838391"
                    },
                    "button": {
                        "background": "#4b81e8"
                    }
                },
                "position": "bottom-right",
                "type": "opt-in",
                "content": {
                    "message": "This website uses cookies to ensure you get the best experience here.",
                    "href": consentUrl
                },

                onInitialise: function (status) {
                    console.log(`cc - onInitialise, status: ${status}`);

                    var type = this.options.type;
                    var didConsent = this.hasConsented();
                    if (type == 'opt-in' && didConsent) {
                        me.enableCookies();
                    }
                    else if (type == 'opt-out' && !didConsent) {
                        me.disableCookies();
                    }
                    else {
                        me.defaultCookies();
                    }
                },

                onStatusChange: function (status, chosenBefore) {
                    console.log(`cc - onStatusChange, status: ${status}, chosenBefore: ${chosenBefore}`);

                    var type = this.options.type;
                    var didConsent = this.hasConsented();
                    if (type == 'opt-in' && didConsent) {
                        me.enableCookies();
                    }
                    if (type == 'opt-out' && !didConsent) {
                        me.disableCookies();
                    }
                },

                onRevokeChoice: function () {
                    // NOTE: this hook is called immediately after the revoke button is clicked and removes previous answers
                    console.log(`cc - onRevokeChoice`);

                    var type = this.options.type;
                    if (type == 'opt-in') {
                        me.disableCookies();

                        // NOTE: we need to reload page, so that we get rid of the loaded GA / Disqus scripts!
                        location.reload();
                    }
                    if (type == 'opt-out') {
                        me.enableCookies();
                    }
                },

                onPopupOpen: function () {
                    console.log(`cc - onPopupOpen`);
                },

                onPopupClose: function () {
                    console.log(`cc - onPopupClose`);
                }

            });

        }

    };

    const requireConsent = JSON.parse('true');
    const consentUrl = '/cookies.html';
    
    scripts_config.loadScripts(requireConsent, consentUrl);
</script>



        <script>

    /* uses:
    EJS.CO for templating
    LUNR for search
    HE for HTML encoding (at highlight fnc.)
    */
   
    class Debouncer {
        _timeoutId = undefined;
        _wait = 250;
        _callback;

        constructor(callback, wait) {
            this._wait = wait ? wait : this._wait;
            this._callback = callback;
        }

        next(...args) {
            this.cancel();
            this._timeoutId = window.setTimeout(() => {
            this._callback.apply(null, args);
            }, this._wait);
        }

        cancel() {
            window.clearTimeout(this._timeoutId);
        }
    }

    const blogSearch = {

        _searchIndexPath: '/search.json',
        _urlPrefix: '/',
        _debounceTime: 400,

        _searchingTemplate: `
<h2>
    <i class="text-secondary fas fa-spin fa-circle-notch"></i>
    <span class="text-secondary">Searching for:</span>
    <span class="text-primary"><%= searchText %></span>
</h2>
`,

        _resultTemplate: `
<h2>
    <span class="text-secondary">Search results for:</span>
    <span class="text-primary"><%= searchText %></span>
</h2>

<ul class="search-results">
<% searchResults.forEach((sr) => { %>
    <li>
        <div class="search-result-item position-relative border shadow">
            <h5><%- sr.ref.title %></h5>
            <p class="x-text-nowrap x-text-truncate"><%- sr.ref.summary %></p>
            <a href="<%- urlPrefix %><%- sr.ref.url %>" class="stretched-link"></a>
        </div>
    </li>
<% }); %>
</ul>        
`,

        _inputElements: [],
        _cancelElements: [],
        
        _updateInputs(value) {
            this._inputElements.forEach(el => el.value = value);
        },

        _setUpListeners(inputSelector, cancelSelector) {
            if (inputSelector) {
                this._inputElements = document.querySelectorAll(inputSelector);
                this._inputElements.forEach(el => el.addEventListener('keyup', evt => { if (evt.keyCode == 27) this._escapePressed(el); else this._inputValueChanged(el); } ));
            } else {
                this._inputElements = [];
            }

            if (cancelSelector) {
                this._cancelElements = document.querySelectorAll(cancelSelector);
            } else {
                this._cancelElements = [];
            }
        },

        _escapePressed(el) {
            this.clearSearch();
        },

        _inputValueChanged(el) {
            const value = el.value;
            this._updateInputs(value);
            this._debouncedSearch.next(value);
        },

        _resultContainerEls: [],
        _containersToHideEls: [],

        _setUpContainers(resultContainerSelector, containersToHideWhenResultSelector) {
            this._resultContainerEls = document.querySelectorAll(resultContainerSelector);
            this._containersToHideEls = document.querySelectorAll(containersToHideWhenResultSelector);
        },

        _showResults: false,
        _searching: false,
        _searchText: '',
        _searchResults: [],

        refreshUi() {
            const self = this;

            self._inputElements.forEach(el => el.value = self._searchText );

            const html = self._showResults
                ? self._searching
                    ? ejs.render(self._searchingTemplate, { searchText: self._searchText })
                    : ejs.render(self._resultTemplate, { urlPrefix: self._urlPrefix.replace(/\/+$/, ''), searchText: self._searchText, searchResults: self._searchResults })
                : '';

            self._resultContainerEls.forEach(el => { 
                // hide/show container
                self._showResults ? el.classList.remove("d-none") : el.classList.add("d-none")
                
                // find results element and set results
                const resultsEl = el.querySelector(".search-results");
                if (resultsEl) {
                    resultsEl.innerHTML = self._showResults ? html : "";
                }
            });

            self._containersToHideEls.forEach(el => self._showResults ? el.classList.add("d-none") : el.classList.remove("d-none"));          
        },

        clearSearch() {
            this._showResults = false;
            this._searchText = '';
            this._searchResults = [];
            this.refreshUi();
        },

        search(text) {

            const self = this;

            console.log('searching for: ', text);
            self._searchText = text;

            if (!text) {
                self.clearSearch();
                return;
            }

            this._searchResults = [];
            self._searching = true;
            self._showResults = true;
            this.refreshUi();

            const hasSpecial = self._lunrSpecial.some(special => text.includes(special));
            const pattern =  hasSpecial 
                ? text
                : text + "*";

            console.log('lunr pattern: ', pattern);
            const localResults = self._lunrEngine.search(pattern);

            // NOTE: just for tests...
            // console.log('total result', localResults)

            // NOTE: highlighting
            localResults.forEach(localResult => {
                // NOTE: hard. ref.
                const data = self._lunrSearchData.find(i => i.url == localResult.ref);

                const highlight = {};

                for (let term in localResult.matchData.metadata) {
                    for (let field in localResult.matchData.metadata[term]) {

                        const positions = localResult.matchData.metadata[term][field].position;

                        const fieldValue = data[field];
                        let fieldReadIndex = 0;

                        highlight[field] = "";

                        for (let position of positions) {

                            if (position[0] > fieldReadIndex)
                                highlight[field] += fieldValue.substring(fieldReadIndex, position[0]);

                            highlight[field] += ("{:::" + fieldValue.substring(position[0], position[0] + position[1]) + ":::}");

                            fieldReadIndex = position[0] + position[1];

                        }

                        highlight[field] += fieldValue.substring(fieldReadIndex);             

                    }

                }

                for (let key in highlight) {
                    let value = highlight[key];

                    const encode = false;
                    let encoded = encode
                        ? he.encode(value)
                        : value;

                    let highlighted = encoded.replace(/{:::/g, '<mark>').replace(/:::}/g, '</mark>');
                    highlight[key] = highlighted;
                }

                localResult.ref = Object.assign({}, data, highlight);
            });

            self._searchResults = localResults;

            // finally
            self._searching = false;
            self.refreshUi();
        },

        _lunrSpecial: "*+-:^~".split(''),
        _lunrSearchData: undefined,
        _lunrEngine: undefined,

        init(inputSelector, cancelSelector, resultContainerSelector, containersToHideWhenResultSelector) {

            console.log('initializing search', this);

            // set up result / hide elements
            this._setUpContainers(resultContainerSelector, containersToHideWhenResultSelector);

            // refresh
            this.refreshUi();

            fetch(this._searchIndexPath).then((response) => {
                response.json().then((raw) => {

                    // set up engine, store search data
                    this._lunrSearchData = raw;

                    this._lunrEngine = lunr(function () {
                        this.ref('url')
                        this.field('title')
                        this.field('date')
                        this.field('author')
                        this.field('summary')
                        this.field('text')

                        this.metadataWhitelist = ['position']

                        raw.forEach(function (doc) { this.add(doc) }, this)
                    });

                    // set up UI listeners
                    this._debouncedSearch = new Debouncer((args) => this.search(args), this._debounceTime);
                    this._setUpListeners(inputSelector, cancelSelector);

                    // refresh
                    this.refreshUi();
                });
            });

        }

    };

    // NOTE: search-results-container must have an additional element with a .search-results class
    blogSearch.init('.blog-search-input', '.blog-search-cancel', '#search-results-container', '#global-content-view');

</script>


    </body>

    <script src="/assets/js/d-hide-if-empty.js"></script>
    <script src="/assets/js/sticky.js"></script>
</html>
